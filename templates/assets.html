{% extends 'base.html' %}
{% block title %}View Assets{% endblock %}

{% block header %}
View Assets
{% endblock %}


{% block content %}


<form method="POST" class="form-inline mb-5">
  <div class="form-group">

    <div class="input-group gap-4">
    <input type="search" class="form-control" name="searchQuery" placeholder="Search Assets">
      <div class="input-group-append">
         <a href="/assets" class="btn btn-outline-secondary">Clear Selection</a>
      </div>
  </div>
  </div>
</form>

<div class="d-flex flex-col justify-content-center mb-5">
    <a href="/assets/create/" class="btn btn-primary btn-lg w-50">Create Asset</a>
</div>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">All</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Available</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Retired</button>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
    <table class="table table-striped table-responsive">
  <thead>
    <tr>
      <th scope="col">ID</th>            
      <th scope="col">Name</th>
      <th scope="col">Brand</th>
      <th scope="col">Model</th>
      <th scope="col">Company</th>
      <th scope="col">Available</th>
      <th scope="col">Retired</th>
      <th scope="col">Created</th>
      <th scope="col">Updated</th>
      <th scope="col">Edit</th>
    </tr>  
  </thead>
  <tbody>
    {% for row in data %}
      <tr>
        <td>{{ row["AID"] }}</td>
        <td>{{ row["ANAME"] }}</td>
        <td>{{ row["ABRAND"] }}</td>
        <td>{{ row["AMODEL"] }}</td>
        <td>{{ row["ACOMPANY"] }}</td>
        <td>{% if row['IS_AVAILABLE'] %}Yes{% else %}No{% endif %}</td>
        <td>{% if row["IS_RETIRED"] %}Yes{% else %}No{% endif %}</td>
        <td>{{ row["CREATED"] }}</td>
        <td>{{ row["UPDATED"] }}</td>
        <td><a href="/assets/edit/{{ row['AID'] }}"><span class="fa fa-edit"></span></a></td>
      </tr>
    {% endfor %}
  </tbody>
</table>
  </div>
  <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
    <table class="table table-striped table-responsive">
  <thead>
    <tr>
      <th scope="col">ID</th>            
      <th scope="col">Name</th>
      <th scope="col">Brand</th>
      <th scope="col">Model</th>
      <th scope="col">Company</th>
      <th scope="col">Available</th>
      <th scope="col">Retired</th>
      <th scope="col">Created</th>
      <th scope="col">Updated</th>
      <th scope="col">Edit</th>
    </tr>  
  </thead>
  <tbody>
    {% for row in data %}
    {% if row['IS_AVAILABLE'] == 1 %}
      <tr>
        <td>{{ row["AID"] }}</td>
        <td>{{ row["ANAME"] }}</td>
        <td>{{ row["ABRAND"] }}</td>
        <td>{{ row["AMODEL"] }}</td>
        <td>{{ row["ACOMPANY"] }}</td>
        <td>{% if row['IS_AVAILABLE'] %}Yes{% else %}No{% endif %}</td>
        <td>{% if row["IS_RETIRED"] %}Yes{% else %}No{% endif %}</td>
        <td>{{ row["CREATED"] }}</td>
        <td>{{ row["UPDATED"] }}</td>
        <td><a href="/assets/edit/{{ row['AID'] }}"><span class="fa fa-edit"></span></a></td>
      </tr>
      {% endif %}
    {% endfor %}
  </tbody>
</table>
  </div>
  <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
    <table class="table table-striped table-responsive">
  <thead>
    <tr>
      <th scope="col">ID</th>            
      <th scope="col">Name</th>
      <th scope="col">Brand</th>
      <th scope="col">Model</th>
      <th scope="col">Company</th>
      <th scope="col">Available</th>
      <th scope="col">Retired</th>
      <th scope="col">Created</th>
      <th scope="col">Updated</th>
      <th scope="col">Edit</th>
    </tr>  
  </thead>
  <tbody>
    {% for row in data %}
    {% if row['IS_RETIRED'] == 1 %}
      <tr>
        <td>{{ row["AID"] }}</td>
        <td>{{ row["ANAME"] }}</td>
        <td>{{ row["ABRAND"] }}</td>
        <td>{{ row["AMODEL"] }}</td>
        <td>{{ row["ACOMPANY"] }}</td>
        <td>{% if row['IS_AVAILABLE'] %}Yes{% else %}No{% endif %}</td>
        <td>{% if row["IS_RETIRED"] %}Yes{% else %}No{% endif %}</td>
        <td>{{ row["CREATED"] }}</td>
        <td>{{ row["UPDATED"] }}</td>
        <td><a href="/assets/edit/{{ row['AID'] }}"><span class="fa fa-edit"></span></a></td>
      </tr>
      {% endif %}
    {% endfor %}
  </tbody>
</table>
  </div>
</div>


{% endblock %}